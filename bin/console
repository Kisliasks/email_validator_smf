#!/usr/bin/env php
<?php

use App\Application\Command\EmailValidationCommand;
use App\Service\EmailValidateService;
use Symfony\Component\Console\Application;

require_once dirname(__DIR__) . '/vendor/autoload.php';

$commandApp = new Application;

$container = new DI\Container();

$validators = [
    $container->get('App\Service\Mods\PostEmailValidator'),
    $container->get('App\Service\Mods\RegexEmailValidator'),
    $container->get('App\Service\Mods\SpamDataBaseEmailValidator'),
];

$service = new EmailValidateService($validators);

$commandApp->add(new EmailValidationCommand($service));

$commandApp->run();

